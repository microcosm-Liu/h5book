# 题目

##### 简单数组去重

```javascript
var arr = [1,2,3,2,1];
```



# 解析

 set和数组类似，无序但不可重复，es6语法：

```javascript
var arr = [1,2,3,2,1] , newArr = [], obj = {};
for (var i = 0; i < arr.length; i++) {
      if(!obj[arr[i]]) {
            obj[arr[i]] = 2;
            newArr.push(arr[i]);
       }
 }

```





### 参与者

###### 阿达思路：

arr = [new Set(arr)];  arr 是set类可以用...扩展

arr1 = [...new Set(arr)];

###### 皮皮思路：

```javascript
var arr = [1, 2, 1, 3], hash = [];
    for (let i=0; i < arr.length; i++) {
        console.log(hash[arr[i]]);
        if (!hash[arr[i]]) {
            hash[arr[i]] = 1;
        } else {
            hash[arr[i]]++;
        }
        console.log(hash);
    }
    console.log(hash);
    console.log(hash[0]);
    arr = [];
    for (var key in hash) {
        console.log(key);
        arr.push((key-=0));
    }
    console.log(arr);
```



#### 拓展

如下数组去重：

```javascript
var arr = [1,2,3,2,1,'2','1']; //  去重
var obj = {};
var newArr = [];
for (var i = 0; i < arr.length; i++) {
      const str = `${arr[i]}${typeof(arr[i])}`;
      if(!obj[str]) {
            obj[str] = 1;
            newArr.push(arr[i]);
      }
}
```

###### 阿超思路

````javascript
var arr = [{a:'1'}, {b: '2'}, {a:1}]; // 去重
function unique(arr) {
    var obj = {};
    return arr.filter(function(item, index, arr) {
        return obj.hasOwnProperty(typeof item + JSON.stringify(item)) ? false : (obj[typeof item + JSON.stringify(item)] = true);
    });
}
console.log(unique(arr));
````

### 参考资料

[JavaScript 高性能数组去重]( <https://www.cnblogs.com/wisewrong/p/9642264.html>)