# 题目

说出如下内容打印的值是什么？

```HTML & javascript
<ul id="ul">
    <li>1</li>
    <li>2</li>
    <li>3</li>
    <li>4</li>
</ul>
var oUl = document.getElementById('ul');
var aLi = oUl.getElementsByTagName('li');
// console.log(aLi)
for(let i = 0; i< aLi.length; i++) {
    console.log(i); // a处
    oUl.onclick= function() {
        console.log(i); // b处
    }
}
```
答案：a：012;        b: 3；



# 解析

**问题解析：**

​   a处012应该是没问题的，b处因为一直是对oUl绑定同一个事件，而且最后一次绑定时i=3，所以b处打印3；


## 扩展: 点击哪个显示对应的i;

es6实现:
```javascript
var oUl = document.getElementById('ul');
var aLi = oUl.getElementsByTagName('li');
// console.log(aLi)
for(let i = 0; i< aLi.length; i++) {
    console.log(i); // a处
    aLi[i].onclick= function() {
        console.log(i); // b处
    }
}
```
闭包:
```javascript
var oUl = document.getElementById('ul');
var aLi = oUl.getElementsByTagName('li');
for(var i = 0; i< aLi.length; i++) {
    console.log(i); // a处
    (function(i) {
        aLi[i].onclick= function() {
            console.log(i); // b处
        }
    })(i);
}
```
注：还可以添加自定义属性等方法，不一一列举
