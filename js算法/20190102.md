# 题目

如下HTML结构
```HTML
<ul>
    <li>1</li>
    <li>2</li>
    <li>3</li>
    <li>4</li>
</ul>
```
,使用
```javascript
for (var i = 0; i < 4; i++) {
    $("ul li").get(i).onclick = function() {
        alert(i);
    }
}
```
进行绑定点击事件，分别点击1，2，3，4，弹出数字分别是(  );<br /> 
A.0,1,2,3;<br /> B.1,2,3,4;<br />  C.3,3,3,3;<br /> D.4,4,4,4;



# 解析
**答案：**
    D<br /> 
**问题解析：**<br /> 
&emsp;&emsp;js代码只是执行了一个事件绑定，当点击的时候整个for循环已经结束，i为for循环的结束判断， i=4；
​    


### 参与者

回答：

// 阿民/小谢/阿丽/阿成&emsp;D<br>
// 阿冬 &emsp;C

## 扩展1：
如下代码打印什么
```javascript
for (var  i = 0; i < 3; i++) {
    setTimeout(() => {
        console.log(i); // b
    }, 0);
  }
  console.log(i);   // a
```
答案：3 3 3 3；<br/>
解析：
js是单线程运行的，当执行到setTimeout时只是将回调执行放入了js线程必须等待for循环结束后才会调用,所以a处先打印了3，b处随后打印333；
* [JS线程介绍扩展阅读](<https://juejin.im/post/5a6547d0f265da3e283a1df7>) <br/>

**参与者回答**<br>
阿旭：2 0 1 2；<br>
小兜：3 3 3 3；

## 扩展2：
如下代码打印什么
```javascript
for (let  i = 0; i < 3; i++) {
    setTimeout(() => {
        console.log(i); // b
    }, 0);
  }
  console.log(i);   // a
```
答案：报错（not defined）  0 1 2   <br/>
解析：let 绑定不受变量提升的约束，这意味着 let声明不会被提升到当前执行上下文的顶部。在块中的变量初始化之外，引用它将会导致 ReferenceError，所以对于a处先报错；
对于for循环（ for (let expr1; expr2; expr3) statement）；expr1, expr2, expr3, 和 statement 都是包含在一个隐含域块中，所以对于每个setTimeout其实都是处于不同的   域块下，i的值分别为 0 1 2；（下面是es6转es5后的代码，给大家参考；注：es5代码中a处并不会报错，会显示 3 ）<br/>


![image][ser]

[ser]: ../images/es5-es6.png "Title"